{"version":3,"sources":["webpack://mesto/./src/scripts/Card.js","webpack://mesto/./src/scripts/Section.js","webpack://mesto/./src/scripts/constants.js","webpack://mesto/./src/scripts/Popup.js","webpack://mesto/./src/scripts/PopupWithImage.js","webpack://mesto/./src/scripts/PopupWithForm.js","webpack://mesto/./src/scripts/PopupConfirm.js","webpack://mesto/./src/scripts/UserInfo.js","webpack://mesto/./src/scripts/validate.js","webpack://mesto/./src/scripts/FormValidator.js","webpack://mesto/./src/pages/index.js","webpack://mesto/./src/scripts/Api.js"],"names":["Card","data","myId","templateSelector","handleCardClick","handleLikeClick","handleDeleteCard","this","_name","name","_link","link","_id","_owner","owner","_templateSelector","_handleCardClick","_likes","likes","_isLiked","_handleLikeClick","_handleDeleteCard","_myId","forEach","item","_element","querySelector","classList","add","document","content","cloneNode","_getTemplate","_cardImage","src","alt","textContent","_likeCount","_checkForMyLike","_setEventListeners","length","addEventListener","getOwner","bind","remove","evt","target","Section","container","renderer","_renderer","_container","items","isPrepend","prepend","append","imgPopup","Popup","popup","_popup","_escClose","_handleEscClose","removeEventListener","key","close","contains","PopupWithImage","_imgPopup","_imgPopupPicture","_imgPopupTitle","PopupWithForm","handleFormSubmit","_handleFormSubmit","_submitButton","reset","_inputList","querySelectorAll","_formValues","input","value","preventDefault","_getInputValues","deleteSubmit","_deleteSubmit","UserInfo","avatar","profession","_profession","_avatar","about","validationConfig","formSelector","inputSelector","submitButtonSelector","inactiveButtonClass","inputErrorClass","errorClass","FormValidator","config","element","_formSelector","_inputSelector","_submitButtonSelector","_inactiveButtonClass","_inputErrorClass","_errorClass","id","validationMessage","validity","valid","_hideError","_showError","button","isActive","disabled","inputsList","Array","from","submitButton","_checkInputValidity","_setButtonState","checkValidity","form","api","address","token","groupId","_address","_token","_groupId","res","ok","json","Promise","reject","Error","status","fetch","headers","authorization","then","_getResponseData","method","body","JSON","stringify","cardId","all","getUserInformation","getInitialCards","values","userData","initialCards","userInformation","setUserInfo","cardsList","rendererItems","catch","err","console","log","placeEdit","placeFormValidation","profileEdit","profileFormValidation","avatarEdit","avatarFormValidation","profileOpenButton","formPopup","profileName","profileProfession","inputName","inputProfession","placeOpenButton","placePopup","placeName","placeLink","avatarOpenButton","avatarPopup","inputAvatar","deleteConfirm","deletePopup","pictureOpen","setEventListeners","profileFormPopup","changeUserInformation","finally","renderLoading","placeFormPopup","addNewCard","cardElement","createCard","addItem","avatarFormPopup","changeUserAvatar","getUserInfo","card","getUserId","wasLiked","removeLike","getCardId","deleteLikeButton","updateLike","putLike","putLikeButton","deleteFormPopup","PopupConfirm","deleteCard","open","generateCard","enableValidation"],"mappings":"6LAAqBA,E,WACnB,WAAYC,EAAMC,EAAMC,EAAkBC,EAA1C,GAAgG,IAApCC,EAAoC,EAApCA,gBAAiBC,EAAmB,EAAnBA,kB,4FAAmB,SAC9FC,KAAKC,MAAQP,EAAKQ,KAClBF,KAAKG,MAAQT,EAAKU,KAClBJ,KAAKK,IAAMX,EAAKW,IAChBL,KAAKM,OAASZ,EAAKa,MACnBP,KAAKQ,kBAAoBZ,EACzBI,KAAKS,iBAAmBZ,EAExBG,KAAKU,OAAShB,EAAKiB,MACnBX,KAAKY,UAAW,EAEhBZ,KAAKa,iBAAmBf,EAExBE,KAAKc,kBAAoBf,EAEzBC,KAAKe,MAAQpB,E,+DAGG,WAChBK,KAAKU,OAAOM,SAAQ,SAACC,GACfA,EAAKZ,MAAQ,EAAKU,QACnB,EAAKG,SAASC,cAAc,sBAAsBC,UAAUC,IAAI,4BAChE,EAAKT,UAAW,Q,iCAMrB,OAAsB,IAAlBZ,KAAKY,W,kCAQT,OAAOZ,KAAKK,M,iCAIZ,OAAOL,KAAKM,S,qCAMZ,OAFoBgB,SAASH,cAAcnB,KAAKQ,mBAAmBe,QAAQJ,cAAc,SAASK,WAAU,K,qCAmB5G,OAbAxB,KAAKkB,SAAWlB,KAAKyB,eACrBzB,KAAK0B,WAAa1B,KAAKkB,SAASC,cAAc,cAC9CnB,KAAK0B,WAAWC,IAAM3B,KAAKG,MAC3BH,KAAK0B,WAAWE,IAAM5B,KAAKC,MAC3BD,KAAKkB,SAASC,cAAc,gBAAgBU,YAAc7B,KAAKC,MAE3DD,KAAKU,SACPV,KAAK8B,aACL9B,KAAK+B,mBAGP/B,KAAKgC,qBAEEhC,KAAKkB,W,mCAIZlB,KAAKkB,SAASC,cAAc,qBAAqBU,YAAc7B,KAAKU,OAAOuB,S,2CAGxD,WACnBjC,KAAKkB,SAASC,cAAc,sBAAsBe,iBAAiB,QAASlC,KAAKa,kBAE7Eb,KAAKe,QAAUf,KAAKmC,WAAW9B,IACjCL,KAAKkB,SAASC,cAAc,qBAAqBe,iBAAiB,QAASlC,KAAKc,kBAAkBsB,KAAKpC,OAEvGA,KAAKkB,SAASC,cAAc,qBAAqBkB,SAGnDrC,KAAK0B,WAAWQ,iBAAiB,SAAS,WACxC,EAAKzB,iBAAiB,EAAKN,MAAO,EAAKF,Y,oCAK7BqC,GACZA,EAAIC,OAAOnB,UAAUC,IAAI,4BAEzBrB,KAAKY,UAAW,I,uCAGD0B,GACfA,EAAIC,OAAOnB,UAAUiB,OAAO,4BAE5BrC,KAAKY,UAAW,I,mCAIhBZ,KAAKkB,SAASmB,SACdrC,KAAKkB,SAAW,O,iCAGPP,GACTX,KAAKkB,SAASC,cAAc,qBAAqBU,YAAclB,EAAMsB,Y,gMCxGpDO,E,WACnB,aAAyBC,GAAW,IAAtBC,EAAsB,EAAtBA,U,4FAAsB,SAClC1C,KAAK2C,UAAYD,EACjB1C,KAAK4C,WAAatB,SAASH,cAAcsB,G,2DAG7BI,GAAO,WACnBA,EAAM7B,SAAQ,SAAAC,GACZ,EAAK0B,UAAU1B,Q,8BAIXA,EAAM6B,GACNA,EACF9C,KAAK4C,WAAWG,QAAQ9B,GAExBjB,KAAK4C,WAAWI,OAAO/B,Q,sBCdlBgC,EAAW3B,SAASH,cAAc,e,0KCA1B+B,E,WACnB,WAAYC,I,4FAAO,SACjBnD,KAAKoD,OAASD,EAEdnD,KAAKqD,UAAYrD,KAAKsD,gBAAgBlB,KAAKpC,M,oDAI3CA,KAAKoD,OAAOhC,UAAUC,IAAI,gBAC1BC,SAASY,iBAAiB,UAAWlC,KAAKqD,a,8BAI1CrD,KAAKoD,OAAOhC,UAAUiB,OAAO,gBAC7Bf,SAASiC,oBAAoB,UAAWvD,KAAKqD,a,sCAG/Bf,GDnBK,WCoBfA,EAAIkB,KACNxD,KAAKyD,U,0CAIW,WAClBzD,KAAKoD,OAAOlB,iBAAiB,SAAS,SAACI,IAChCA,EAAIC,OAAOnB,UAAUsC,SAAS,iBAAqBpB,EAAIC,OAAOnB,UAAUsC,SAAS,yBACpF,EAAKD,gB,wmCC1BQE,E,kpBACnB,WAAYR,EAAOF,GAAU,a,4FAAA,UAC3B,cAAME,IAEDS,UAAYtC,SAASH,cAAc8B,GAExC,EAAKY,iBAAmB,EAAKD,UAAUzC,cAAc,eACrD,EAAK2C,eAAiB,EAAKF,UAAUzC,cAAc,qBANxB,E,0CASxBf,EAAMF,GACT,yCAEAF,KAAK6D,iBAAiBlC,IAAMvB,EAC5BJ,KAAK8D,eAAejC,YAAc3B,O,oBAdMgD,G,klCCAvBa,E,kpBACnB,WAAYZ,EAAOa,GAAkB,a,4FAAA,UACnC,cAAMb,IAEDc,kBAAoBD,EAHU,E,6CAOnC,0CAEAhE,KAAKkE,cAAcC,U,wCAGH,WAKhB,OAJAnE,KAAKoE,WAAapE,KAAKoD,OAAOiB,iBAAiB,iBAC/CrE,KAAKsE,YAAc,GACnBtE,KAAKoE,WAAWpD,SAAQ,SAAAuD,GAAK,OAAI,EAAKD,YAAYC,EAAMrE,MAAQqE,EAAMC,SAE/DxE,KAAKsE,c,0CAGO,WACnB,sDAEAtE,KAAKkE,cAAgBlE,KAAKoD,OAAOjC,cAAc,qBAC/CnB,KAAKkE,cAAchC,iBAAiB,UAAU,SAACI,GAC7CA,EAAImC,iBACJ,EAAKR,kBAAkB,EAAKS,2B,oBA3BSxB,G,klCCAtBa,E,kpBACnB,WAAYZ,EAAOwB,GAAc,a,4FAAA,UAC/B,cAAMxB,IAEDyB,cAAgBD,EAHU,E,yDAMZ,WACnB,sDAEA3E,KAAKkE,cAAgBlE,KAAKoD,OAAOjC,cAAc,qBAC/CnB,KAAKkE,cAAchC,iBAAiB,UAAU,SAACI,GAC7CA,EAAImC,iBACJ,EAAKG,wB,oBAbgC1B,G,0KCFtB2B,E,WACnB,aAAiCC,GAAQ,IAA3B5E,EAA2B,EAA3BA,KAAM6E,EAAqB,EAArBA,Y,4FAAqB,SACvC/E,KAAKC,MAAQC,EACbF,KAAKgF,YAAcD,EAEnB/E,KAAKiF,QAAU3D,SAASH,cAAc2D,G,2DAStC,MALiB,CACf5E,KAAMF,KAAKC,MACX8E,WAAY/E,KAAKgF,e,kCAMTtF,GACVM,KAAKC,MAAM4B,YAAcnC,EAAKQ,KAC9BF,KAAKgF,YAAYnD,YAAcnC,EAAKwF,MACpClF,KAAKiF,QAAQtD,IAAMjC,EAAKoF,OAExB9E,KAAKK,IAAMX,EAAKW,M,kCAIhB,OAAOL,KAAKK,S,sBC1BV8E,EAAmB,CACvBC,aAAc,oBACdC,cAAe,gBACfC,qBAAsB,sBACtBC,oBAAqB,8BACrBC,gBAAiB,qBACjBC,WAAY,wB,0KCNOC,E,WACnB,WAAYC,EAAQC,I,4FAAS,SAC3B5F,KAAK6F,cAAgBF,EAAOP,aAC5BpF,KAAK8F,eAAiBH,EAAON,cAC7BrF,KAAK+F,sBAAwBJ,EAAOL,qBACpCtF,KAAKgG,qBAAuBL,EAAOJ,oBACnCvF,KAAKiG,iBAAmBN,EAAOH,gBAC/BxF,KAAKkG,YAAcP,EAAOF,WAE1BzF,KAAKkB,SAAW0E,E,wDAGPrB,GACKvE,KAAKkB,SAASC,cAAd,WAAgCoD,EAAM4B,GAAtC,WACRtE,YAAc0C,EAAM6B,kBAC1B7B,EAAMnD,UAAUC,IAAIrB,KAAKiG,oB,iCAGhB1B,GACKvE,KAAKkB,SAASC,cAAd,WAAgCoD,EAAM4B,GAAtC,WACRtE,YAAc,GACpB0C,EAAMnD,UAAUiB,OAAOrC,KAAKiG,oB,0CAGV1B,GACbA,EAAM8B,SAASC,MAGlBtG,KAAKuG,WAAWhC,GAFhBvE,KAAKwG,WAAWjC,K,sCAMJkC,EAAQC,GAClBA,GACFD,EAAOrF,UAAUiB,OAAOrC,KAAKgG,sBAC7BS,EAAOE,UAAW,IAElBF,EAAOrF,UAAUC,IAAIrB,KAAKgG,sBAC1BS,EAAOE,UAAW,K,2CAID,WACbC,EAAaC,MAAMC,KAAK9G,KAAKkB,SAASmD,iBAAiBrE,KAAK8F,iBAC5DiB,EAAe/G,KAAKkB,SAASC,cAAcnB,KAAK+F,uBAEpDa,EAAW5F,SAAQ,SAACuD,GACpBA,EAAMrC,iBAAiB,SAAS,WAC9B,EAAK8E,oBAAoBzC,GACzB,EAAK0C,gBAAgBF,EAAc,EAAK7F,SAASgG,yB,yCAMpC,WACH5F,SAAS+C,iBAAiBrE,KAAK6F,eAEvC7E,SAAQ,SAACmG,GACb,EAAKnF,qBAELmF,EAAKjF,iBAAiB,UAAU,SAACI,GAC/BA,EAAImC,oBAGN,IAAMsC,EAAeI,EAAKhG,cAAc,EAAK4E,uBAC7C,EAAKkB,gBAAgBF,EAAcI,EAAKD,yB,sSChD9C,IAAME,EAAM,I,WCjBV,cAAwC,IAA1BC,EAA0B,EAA1BA,QAASC,EAAiB,EAAjBA,MAAOC,EAAU,EAAVA,S,4FAAU,SACtCvH,KAAKwH,SAAWH,EAChBrH,KAAKyH,OAASH,EACdtH,KAAK0H,SAAWH,E,8DAGDI,GACf,OAAIA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,OAAO,IAAIC,MAAJ,kBAAqBL,EAAIM,Y,wCAIjC,WAChB,OAAOC,MAAM,GAAD,OAAIlI,KAAKwH,SAAT,YAAqBxH,KAAK0H,SAA1B,UAA4C,CACtDS,QAAS,CACPC,cAAepI,KAAKyH,UAGvBY,MAAK,SAAAV,GACJ,OAAO,EAAKW,iBAAiBX,Q,oCAIR,WAAbzH,EAAa,EAAbA,KAAME,EAAO,EAAPA,KAChB,OAAO8H,MAAM,GAAD,OAAIlI,KAAKwH,SAAT,YAAqBxH,KAAK0H,SAA1B,UAA4C,CACtDa,OAAQ,OACRJ,QAAS,CACPC,cAAepI,KAAKyH,OACpB,eAAgB,oBAElBe,KAAMC,KAAKC,UAAU,CACnBxI,KAAMA,EACNE,KAAMA,MAITiI,MAAK,SAAAV,GACJ,OAAO,EAAKW,iBAAiBX,Q,iCAItBgB,GAAQ,WACjB,OAAOT,MAAK,UAAKlI,KAAKwH,SAAV,YAAsBxH,KAAK0H,SAA3B,kBAA6CiB,GAAU,CACjEJ,OAAQ,SACRJ,QAAS,CACPC,cAAepI,KAAKyH,OACpB,eAAgB,sBAGnBY,MAAK,SAAAV,GACJ,OAAO,EAAKW,iBAAiBX,Q,2CAIZ,WACnB,OAAOO,MAAM,GAAD,OAAIlI,KAAKwH,SAAT,YAAqBxH,KAAK0H,SAA1B,aAA+C,CACzDS,QAAS,CACPC,cAAepI,KAAKyH,UAGvBY,MAAK,SAAAV,GACF,OAAO,EAAKW,iBAAiBX,Q,4CAIbzH,EAAMgF,GAAO,WACjC,OAAOgD,MAAK,UAAKlI,KAAKwH,SAAV,YAAsBxH,KAAK0H,SAA3B,aAAgD,CAC1Da,OAAQ,QACRJ,QAAS,CACPC,cAAepI,KAAKyH,OACpB,eAAgB,oBAElBe,KAAMC,KAAKC,UAAU,CACnBxI,KAAMA,EACNgF,MAAOA,MAGVmD,MAAK,SAAAV,GACJ,OAAO,EAAKW,iBAAiBX,Q,uCAIhB7C,GAAQ,WACvB,OAAOoD,MAAK,UAAKlI,KAAKwH,SAAV,YAAsBxH,KAAK0H,SAA3B,oBAAuD,CACjEa,OAAQ,QACRJ,QAAS,CACPC,cAAepI,KAAKyH,OACpB,eAAgB,oBAElBe,KAAMC,KAAKC,UAAU,CACnB5D,OAAQA,MAGXuD,MAAK,SAAAV,GACJ,OAAO,EAAKW,iBAAiBX,Q,8BAIzBgB,GAAQ,WACd,OAAOT,MAAK,UAAKlI,KAAKwH,SAAV,YAAsBxH,KAAK0H,SAA3B,wBAAmDiB,GAAU,CACvEJ,OAAQ,MACRJ,QAAS,CACPC,cAAepI,KAAKyH,OACpB,eAAgB,sBAGnBY,MAAK,SAAAV,GACJ,OAAO,EAAKW,iBAAiBX,Q,iCAItBgB,GAAQ,WACjB,OAAOT,MAAK,UAAKlI,KAAKwH,SAAV,YAAsBxH,KAAK0H,SAA3B,wBAAmDiB,GAAU,CACvEJ,OAAQ,SACRJ,QAAS,CACPC,cAAepI,KAAKyH,OACpB,eAAgB,sBAGnBY,MAAK,SAAAV,GACJ,OAAO,EAAKW,iBAAiBX,W,sBDzGvB,CAAQ,CAClBN,QAAS,oCACTC,MAAO,uCACPC,QAAS,cAGXO,QAAQc,IAAI,CACVxB,EAAIyB,qBACJzB,EAAI0B,oBAELT,MAAK,SAACU,GAAW,I,IAAA,G,EAAA,E,4CACiBA,I,owBAA1BC,EADS,KACCC,EADD,KAEhBC,GAAgBC,YAAYH,GAC5BI,GAAUC,cAAcJ,MAEzBK,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAI,+BAI1B,IAAMC,EAAYpI,SAASH,cAAc,mBACnCwI,EAAsB,IAAIjE,EAAcP,EAAkBuE,GAE1DE,EAActI,SAASH,cAAc,qBACrC0I,EAAwB,IAAInE,EAAcP,EAAkByE,GAE5DE,EAAaxI,SAASH,cAAc,yBACpC4I,EAAuB,IAAIrE,EAAcP,EAAkB2E,GAI3DE,EAAoB1I,SAASH,cAAc,yBAE3C8I,EAAY3I,SAASH,cAAc,YAEnC+I,EAAc5I,SAASH,cAAc,kBACrCgJ,EAAoB7I,SAASH,cAAc,wBAC3CiJ,EAAY9I,SAASH,cAAc,2BACnCkJ,EAAkB/I,SAASH,cAAc,iCAGzCmJ,EAAkBhJ,SAASH,cAAc,wBAEzCoJ,EAAajJ,SAASH,cAAc,UAEpCqJ,EAAYlJ,SAASH,cAAc,4BACnCsJ,EAAYnJ,SAASH,cAAc,2BAInCuJ,EAAmBpJ,SAASH,cAAc,kCAE1CwJ,EAAcrJ,SAASH,cAAc,gBACrCyJ,GAActJ,SAASH,cAAc,6BAGrC0J,GAAgBvJ,SAASH,cAAc,qBACvC2J,GAAcxJ,SAASH,cAAc,gBAIrC4J,GAAc,IAAIpH,EAAeV,EAAU,eACjD8H,GAAYC,oBAGZ,IAAMC,GAAmB,IAAIlH,EAAekG,GAsG5C,WACE7C,EAAI8D,sBAAsBd,EAAU5F,MAAO6F,EAAgB7F,OAC1D6D,MAAK,SAACV,GACLsD,GAAiBxH,QACjByF,GAAgBC,YAAYxB,MAE7BwD,SAAQ,WACPC,GAAcxB,SA5GlBqB,GAAiBD,oBAGjB,IAAMK,GAAiB,IAAItH,EAAewG,GAqE1C,WACEnD,EAAIkE,WAAW,CAACpL,KAAMsK,EAAUhG,MAAOpE,KAAMqK,EAAUjG,QACtD6D,MAAK,SAAC3I,GANT,IAAiB6L,IAOOC,GAAW9L,GANjC0J,GAAUqC,QAAQF,GAAa,GAQ7BF,GAAe5H,WAEhB0H,SAAQ,WACPC,GAAc1B,SA5ElB2B,GAAeL,oBAEf,IAAMU,GAAkB,IAAI3H,EAAe4G,GA2H3C,WACEvD,EAAIuE,iBAAJ,UAAwBf,GAAYpG,QACnC6D,MAAK,SAACV,GACLuB,GAAgBC,YAAYxB,GAC5BuB,GAAgB0C,YAAYjE,GAC5B+D,GAAgBjI,WAEjB6F,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAR,8CAAmDF,OAChE4B,SAAQ,WACPC,GAActB,SAnIlB4B,GAAgBV,oBAGhB,IAAMQ,GAAa,SAAC9L,GAClB,IAAMmM,EAAO,IAAIpM,EAAKC,EA8CfwJ,GAAgB4C,YA9Ca,QAASjM,GAC3C,CACAC,gBAAiB,SAACwC,GAEXuJ,EAAKE,WAQR3E,EAAI4E,WAAWH,EAAKI,aACnB5D,MAAK,SAACV,GACLkE,EAAKK,iBAAiB5J,GACtBuJ,EAAKM,WAAWxE,EAAIhH,UAErB2I,OAAM,kBAAME,QAAQC,IAAI,0BAZzBrC,EAAIgF,QAAQP,EAAKI,aAChB5D,MAAK,SAACV,GACLkE,EAAKQ,cAAc/J,GACnBuJ,EAAKM,WAAWxE,EAAIhH,UAErB2I,OAAM,kBAAME,QAAQC,IAAI,8BAW7B1J,iBAAkB,WAEhB,IAAMuM,EAAkB,IAAIC,EAAczB,IAI3C,WACE1D,EAAIoF,WAAWX,EAAKI,aACnB5D,MAAK,WACLwD,EAAKW,aACLF,EAAgB7I,WAEhB6F,OAAM,SAAAC,GAAG,OAAIC,QAAQC,IAAI,mCACzB0B,SAAQ,WACRC,GAAcP,UAXhByB,EAAgBtB,oBAChBsB,EAAgBG,UAiBpB,OAAOZ,EAAKa,gBAQRtD,GAAY,IAAI5G,EAAQ,CAC7BE,SAAU,SAACzB,GACTmI,GAAUqC,QAAQD,GAAWvK,MAE7B,iBAmBH,SAASpB,GAAgBO,EAAMF,GAC7B6K,GAAY0B,KAAKrM,EAAMF,GAIzB,IAAMgJ,GAAkB,IAAIrE,EAAS,CACnC3E,KAAMgK,EACNnF,WAAYoF,GACX,oBA2BH,SAASiB,GAAejI,GACPA,EAAMhC,cAAc,uBAC5BU,YAAc,gBAuBvBmI,EAAkB9H,iBAAiB,SAlDnC,WACE+I,GAAiBwB,OAEjBrC,EAAU5F,MAAQ0E,GAAgB0C,cAAc1L,KAAK2B,YACrDwI,EAAgB7F,MAAQ0E,GAAgB0C,cAAc7G,WAAWlD,eAiDnEyI,EAAgBpI,iBAAiB,SAlCjC,WACEmJ,GAAeoB,OAEf9C,EAAoBgD,sBAkCtBjC,EAAiBxI,iBAAiB,SAzBlC,WACEwJ,GAAgBe,UA2BlB9C,EAAoBgD,mBACpB9C,EAAsB8C,mBACtB5C,EAAqB4C,oB","file":"index.js","sourcesContent":["export default class Card {\r\n  constructor(data, myId, templateSelector, handleCardClick, {handleLikeClick, handleDeleteCard}) {\r\n    this._name = data.name;\r\n    this._link = data.link;\r\n    this._id = data._id;\r\n    this._owner = data.owner;\r\n    this._templateSelector = templateSelector;\r\n    this._handleCardClick = handleCardClick;\r\n\r\n    this._likes = data.likes;\r\n    this._isLiked = false;\r\n\r\n    this._handleLikeClick = handleLikeClick;\r\n\r\n    this._handleDeleteCard = handleDeleteCard;\r\n\r\n    this._myId = myId;\r\n  }\r\n\r\n  _checkForMyLike() {\r\n    this._likes.forEach((item) => {\r\n      if (item._id === this._myId) {\r\n         this._element.querySelector('.card__like-button').classList.add('card__like-button_active');\r\n         this._isLiked = true;\r\n      }\r\n    })\r\n  }\r\n\r\n  wasLiked() {\r\n    if (this._isLiked === true) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  getCardId() {\r\n    return this._id;\r\n  }\r\n\r\n  getOwner() {\r\n    return this._owner;\r\n  }\r\n  \r\n  _getTemplate() {\r\n    const cardElement = document.querySelector(this._templateSelector).content.querySelector('.card').cloneNode(true);\r\n\r\n    return cardElement;\r\n  }\r\n\r\n  generateCard() {\r\n    this._element = this._getTemplate();\r\n    this._cardImage = this._element.querySelector('.card__img');\r\n    this._cardImage.src = this._link;\r\n    this._cardImage.alt = this._name;\r\n    this._element.querySelector('.card__title').textContent = this._name;\r\n\r\n    if (this._likes) {\r\n      this._likeCount();\r\n      this._checkForMyLike();\r\n    }\r\n\r\n    this._setEventListeners();\r\n\r\n    return this._element;\r\n  }\r\n\r\n  _likeCount() {\r\n    this._element.querySelector('.card__like-count').textContent = this._likes.length;\r\n  }\r\n\r\n  _setEventListeners() {\r\n    this._element.querySelector('.card__like-button').addEventListener('click', this._handleLikeClick);\r\n\r\n    if (this._myId === this.getOwner()._id) {\r\n      this._element.querySelector('.card__bin-button').addEventListener('click', this._handleDeleteCard.bind(this));\r\n    } else {\r\n      this._element.querySelector('.card__bin-button').remove();\r\n    }\r\n\r\n    this._cardImage.addEventListener('click', () => {\r\n      this._handleCardClick(this._link, this._name);\r\n    });\r\n\r\n  }\r\n\r\n  putLikeButton(evt) { \r\n    evt.target.classList.add('card__like-button_active');\r\n\r\n    this._isLiked = true;\r\n  }\r\n\r\n  deleteLikeButton(evt) { \r\n    evt.target.classList.remove('card__like-button_active');\r\n\r\n    this._isLiked = false;\r\n  }\r\n\r\n  deleteCard() { \r\n    this._element.remove();\r\n    this._element = null;\r\n  }\r\n\r\n  updateLike(likes){\r\n    this._element.querySelector('.card__like-count').textContent = likes.length;\r\n  }\r\n\r\n}","export default class Section {\r\n  constructor ({renderer}, container) {\r\n    this._renderer = renderer;\r\n    this._container = document.querySelector(container);\r\n  }\r\n\r\n  rendererItems(items) {\r\n    items.forEach(item => {\r\n      this._renderer(item);\r\n    });\r\n  }\r\n\r\n  addItem(item, isPrepend) {\r\n      if (isPrepend) {\r\n        this._container.prepend(item);\r\n      } else {\r\n        this._container.append(item);\r\n      }\r\n  }\r\n}\r\n\r\n","export const ESC_KEY = 'Escape';\r\n\r\nexport const imgPopup = document.querySelector('#bigger-img');","import { ESC_KEY } from \"./constants.js\";\r\n\r\nexport default class Popup {\r\n  constructor(popup) {\r\n    this._popup = popup;\r\n\r\n    this._escClose = this._handleEscClose.bind(this);\r\n  }\r\n\r\n  open() {\r\n    this._popup.classList.add('popup_opened');\r\n    document.addEventListener('keydown', this._escClose);\r\n  }\r\n\r\n  close() {\r\n    this._popup.classList.remove('popup_opened');\r\n    document.removeEventListener('keydown', this._escClose);\r\n  }\r\n\r\n  _handleEscClose(evt) {\r\n    if (evt.key === ESC_KEY) {\r\n      this.close();\r\n    }\r\n  }\r\n\r\n  setEventListeners() {\r\n    this._popup.addEventListener('click', (evt) => {\r\n      if ((evt.target.classList.contains('popup_opened')) || (evt.target.classList.contains('popup__close-button'))) {\r\n        this.close();\r\n      }\r\n    });\r\n  }\r\n}","import Popup from \"./../scripts/Popup.js\";\r\n\r\nexport default class PopupWithImage extends Popup {\r\n  constructor(popup, imgPopup) {\r\n    super(popup);\r\n\r\n    this._imgPopup = document.querySelector(imgPopup);\r\n\r\n    this._imgPopupPicture = this._imgPopup.querySelector('.popup__img');\r\n    this._imgPopupTitle = this._imgPopup.querySelector('.popup__img-title');\r\n  }\r\n\r\n  open(link, name) {\r\n    super.open();\r\n\r\n    this._imgPopupPicture.src = link;\r\n    this._imgPopupTitle.textContent = name;\r\n  }\r\n}","import Popup from \"./../scripts/Popup.js\";\r\n\r\nexport default class PopupWithForm extends Popup {\r\n  constructor(popup, handleFormSubmit) {\r\n    super(popup);\r\n\r\n    this._handleFormSubmit = handleFormSubmit;\r\n  }\r\n\r\n  close() {\r\n    super.close();\r\n\r\n    this._submitButton.reset();\r\n  }\r\n\r\n  _getInputValues() {\r\n    this._inputList = this._popup.querySelectorAll('.popup__input');\r\n    this._formValues = {};\r\n    this._inputList.forEach(input => this._formValues[input.name] = input.value);\r\n    \r\n    return this._formValues;\r\n  }\r\n\r\n  setEventListeners () {\r\n    super.setEventListeners();\r\n\r\n    this._submitButton = this._popup.querySelector('.popup__container');\r\n    this._submitButton.addEventListener('submit', (evt) => {\r\n      evt.preventDefault();\r\n      this._handleFormSubmit(this._getInputValues());\r\n    });\r\n  }\r\n}","import Popup from \"./../scripts/Popup.js\";\r\n\r\nexport default class PopupWithForm extends Popup {\r\n  constructor(popup, deleteSubmit) {\r\n    super(popup);\r\n\r\n    this._deleteSubmit = deleteSubmit;\r\n  }\r\n\r\n  setEventListeners () {\r\n    super.setEventListeners();\r\n\r\n    this._submitButton = this._popup.querySelector('.popup__container');\r\n    this._submitButton.addEventListener('submit', (evt) => {\r\n      evt.preventDefault();\r\n      this._deleteSubmit();\r\n    });\r\n  }\r\n\r\n}","export default class UserInfo {\r\n  constructor ({name, profession}, avatar) {\r\n    this._name = name;\r\n    this._profession = profession;\r\n\r\n    this._avatar = document.querySelector(avatar);\r\n  }\r\n\r\n  getUserInfo() {\r\n    const userInfo = {\r\n      name: this._name,\r\n      profession: this._profession,\r\n    };\r\n\r\n    return userInfo;\r\n  }\r\n\r\n  setUserInfo(data) {\r\n    this._name.textContent = data.name;\r\n    this._profession.textContent = data.about;\r\n    this._avatar.src = data.avatar;\r\n\r\n    this._id = data._id;\r\n  }\r\n\r\n  getUserId() {\r\n    return this._id;\r\n  }\r\n}","const validationConfig = {\r\n  formSelector: '.popup__container',\r\n  inputSelector: '.popup__input',\r\n  submitButtonSelector: '.popup__save-button',\r\n  inactiveButtonClass: 'popup__save-button_disabled',\r\n  inputErrorClass: 'popup__input_error',\r\n  errorClass: 'popup__error_visible'\r\n}\r\n\r\nexport { validationConfig };","export default class FormValidator {\r\n  constructor(config, element) {\r\n    this._formSelector = config.formSelector;\r\n    this._inputSelector = config.inputSelector;\r\n    this._submitButtonSelector = config.submitButtonSelector;\r\n    this._inactiveButtonClass = config.inactiveButtonClass;\r\n    this._inputErrorClass = config.inputErrorClass;\r\n    this._errorClass = config.errorClass;\r\n\r\n    this._element = element;\r\n  }\r\n\r\n  _showError(input) {\r\n    const error = this._element.querySelector(`#${input.id}-error`);\r\n    error.textContent = input.validationMessage;\r\n    input.classList.add(this._inputErrorClass);\r\n  }\r\n\r\n  _hideError(input) {\r\n    const error = this._element.querySelector(`#${input.id}-error`);\r\n    error.textContent = '';\r\n    input.classList.remove(this._inputErrorClass);\r\n  }\r\n\r\n  _checkInputValidity(input) {\r\n    if (!input.validity.valid) {\r\n      this._showError(input);\r\n    } else {\r\n      this._hideError(input);\r\n    }\r\n  }\r\n\r\n  _setButtonState(button, isActive) {\r\n    if (isActive) {\r\n      button.classList.remove(this._inactiveButtonClass);\r\n      button.disabled = false;\r\n    } else {\r\n      button.classList.add(this._inactiveButtonClass);\r\n      button.disabled = true;\r\n    }\r\n  }\r\n\r\n  _setEventListeners() {\r\n    const inputsList = Array.from(this._element.querySelectorAll(this._inputSelector));\r\n    const submitButton = this._element.querySelector(this._submitButtonSelector);\r\n  \r\n      inputsList.forEach((input) => {\r\n      input.addEventListener('input', () => {\r\n        this._checkInputValidity(input);\r\n        this._setButtonState(submitButton, this._element.checkValidity());\r\n      });\r\n      \r\n    });\r\n  }\r\n\r\n  enableValidation() {\r\n    const forms = document.querySelectorAll(this._formSelector);\r\n\r\n    forms.forEach((form) => {\r\n      this._setEventListeners();\r\n\r\n      form.addEventListener('submit', (evt) => {\r\n        evt.preventDefault();\r\n      });\r\n\r\n      const submitButton = form.querySelector(this._submitButtonSelector);\r\n      this._setButtonState(submitButton, form.checkValidity());\r\n    })\r\n  }\r\n}","import './../pages/index.css';\r\n\r\nimport Card from '../scripts/Card.js';\r\nimport Section from '../scripts/Section.js';\r\nimport Popup from '../scripts/Popup.js';\r\nimport PopupWithImage from '../scripts/PopupWithImage.js';\r\nimport PopupWithForm from '../scripts/PopupWithForm.js';\r\nimport PopupConfirm from '../scripts/PopupConfirm.js';\r\n\r\nimport UserInfo from '../scripts/UserInfo.js';\r\n\r\nimport { validationConfig } from '../scripts/validate.js';\r\nimport FormValidator from '../scripts/FormValidator.js';\r\n\r\nimport { imgPopup } from '../scripts/constants.js';\r\n\r\nimport Api from '../scripts/Api.js';\r\n\r\nconst api = new Api({\r\n  address: 'https://mesto.nomoreparties.co/v1',\r\n  token: '6df26ad6-4b0b-4694-ac83-2ab40c0d09c7',\r\n  groupId: 'cohort-19'\r\n}); \r\n\r\nPromise.all([\r\n  api.getUserInformation(),\r\n  api.getInitialCards()\r\n])\r\n.then((values) => { \r\n  const [userData, initialCards] = values;\r\n  userInformation.setUserInfo(userData);\r\n  cardsList.rendererItems(initialCards);\r\n})\r\n.catch(err => console.log('Ошибка загрузки страницы'));\r\n\r\n\r\n// Валидация форм\r\nconst placeEdit = document.querySelector('#placeContainer');\r\nconst placeFormValidation = new FormValidator(validationConfig, placeEdit);\r\n\r\nconst profileEdit = document.querySelector('#profileContainer');\r\nconst profileFormValidation = new FormValidator(validationConfig, profileEdit);\r\n\r\nconst avatarEdit = document.querySelector('#avatarPopupContainer');\r\nconst avatarFormValidation = new FormValidator(validationConfig, avatarEdit);\r\n\r\n\r\n// Profile Form\r\nconst profileOpenButton = document.querySelector('.profile__edit-button');\r\n\r\nconst formPopup = document.querySelector('#profile');\r\n\r\nconst profileName = document.querySelector('.profile__name'); \r\nconst profileProfession = document.querySelector('.profile__profession');\r\nconst inputName = document.querySelector('.popup__input_type_name'); \r\nconst inputProfession = document.querySelector('.popup__input_type_profession');\r\n\r\n// Place Form\r\nconst placeOpenButton = document.querySelector('.profile__add-button');\r\n\r\nconst placePopup = document.querySelector('#place');\r\n\r\nconst placeName = document.querySelector('.popup__input_type_place');\r\nconst placeLink = document.querySelector('.popup__input_type_link');\r\n\r\n\r\n// Аватар\r\nconst avatarOpenButton = document.querySelector('.profile__change-avatar-button');\r\n\r\nconst avatarPopup = document.querySelector('#avatarPopup');\r\nconst inputAvatar = document.querySelector('.popup__input_type_avatar');\r\n\r\n// Удаление\r\nconst deleteConfirm = document.querySelector('#confirmContainer')\r\nconst deletePopup = document.querySelector('#deletePopup');\r\n\r\n\r\n// Попап с картинкой\r\nconst pictureOpen = new PopupWithImage(imgPopup, '#bigger-img');\r\npictureOpen.setEventListeners();\r\n\r\n// Profile Form\r\nconst profileFormPopup = new PopupWithForm (formPopup, submitProfileForm);\r\nprofileFormPopup.setEventListeners();\r\n\r\n// Place Form\r\nconst placeFormPopup = new PopupWithForm (placePopup, placeSubmitHandler);\r\nplaceFormPopup.setEventListeners();\r\n\r\nconst avatarFormPopup = new PopupWithForm (avatarPopup, avatarSubmitHandler);\r\navatarFormPopup.setEventListeners();\r\n\r\n// Создание карточки\r\nconst createCard = (data) => {\r\n  const card = new Card(data, myId(), '#card', handleCardClick,\r\n    {\r\n    handleLikeClick: (evt) => {\r\n\r\n      if (!card.wasLiked()) {\r\n        api.putLike(card.getCardId())\r\n        .then((res) => {\r\n          card.putLikeButton(evt);\r\n          card.updateLike(res.likes);\r\n        })\r\n        .catch(() => console.log('Ошибка: поставить лайк'));\r\n      } else {\r\n        api.removeLike(card.getCardId())\r\n        .then((res) => {\r\n          card.deleteLikeButton(evt);\r\n          card.updateLike(res.likes);\r\n        })\r\n        .catch(() => console.log('Ошибка: убрать лайк'));\r\n      }\r\n \r\n    }, \r\n    handleDeleteCard: () => {\r\n\r\n      const deleteFormPopup = new PopupConfirm (deletePopup, deleteSubmit);\r\n      deleteFormPopup.setEventListeners();\r\n      deleteFormPopup.open();\r\n\r\n     function deleteSubmit() {\r\n       api.deleteCard(card.getCardId())\r\n       .then(() => {\r\n        card.deleteCard();\r\n        deleteFormPopup.close();\r\n       })\r\n       .catch(err => console.log('Ошибка при удалении карточки'))\r\n       .finally(() => {\r\n        renderLoading(deleteConfirm);\r\n       });\r\n      }\r\n\r\n    }\r\n  });\r\n\r\n  return card.generateCard();\r\n}\r\n\r\nfunction myId () {\r\n  return userInformation.getUserId();\r\n}\r\n\r\n// Создание разметки\r\nconst cardsList = new Section({\r\n renderer: (item) => {\r\n   cardsList.addItem(createCard(item));\r\n }\r\n}, '.gallery-grid');\r\n\r\n// Добавление карточек в разметку\r\nfunction addCard(cardElement) {\r\n  cardsList.addItem(cardElement, true);\r\n}\r\n\r\nfunction placeSubmitHandler() {\r\n  api.addNewCard({name: placeName.value, link: placeLink.value})\r\n  .then((data) => {\r\n    const cardElement = createCard(data);\r\n    addCard(cardElement);\r\n    placeFormPopup.close();\r\n  })\r\n  .finally(() => {\r\n    renderLoading(placeEdit);\r\n  });\r\n}\r\n\r\nfunction handleCardClick(link, name) {\r\n  pictureOpen.open(link, name);\r\n}\r\n\r\n// Profile Form\r\nconst userInformation = new UserInfo({\r\n  name: profileName,\r\n  profession: profileProfession,\r\n}, '.profile__avatar');\r\n\r\nfunction profileOpenPopup() {\r\n  profileFormPopup.open();\r\n\r\n  inputName.value = userInformation.getUserInfo().name.textContent;\r\n  inputProfession.value = userInformation.getUserInfo().profession.textContent;\r\n}\r\n\r\nfunction submitProfileForm() {\r\n  api.changeUserInformation(inputName.value, inputProfession.value)\r\n  .then((res) => {\r\n    profileFormPopup.close();\r\n    userInformation.setUserInfo(res);\r\n  })\r\n  .finally(() => {\r\n    renderLoading(profileEdit);\r\n  });\r\n}\r\n\r\n// Place Form\r\nfunction placeOpenPopup() {\r\n  placeFormPopup.open();\r\n\r\n  placeFormValidation.enableValidation();\r\n}\r\n\r\nfunction renderLoading (popup) {\r\n  const button = popup.querySelector('.popup__save-button');\r\n  button.textContent = 'Сохранение...';\r\n}\r\n\r\n// Avatar Form \r\nfunction avatarOpenPopup() {\r\n  avatarFormPopup.open();\r\n}\r\n\r\nfunction avatarSubmitHandler() {\r\n  api.changeUserAvatar(`${inputAvatar.value}`)\r\n  .then((res) => {\r\n    userInformation.setUserInfo(res);\r\n    userInformation.getUserInfo(res);\r\n    avatarFormPopup.close();\r\n  }) \r\n  .catch(err => console.log(`При изменении аватара пользователя: ${err}`))\r\n  .finally(() => {\r\n    renderLoading(avatarEdit);\r\n  });\r\n}\r\n\r\n\r\n// Profile Form\r\nprofileOpenButton.addEventListener('click', profileOpenPopup);\r\n\r\n// Place Form\r\nplaceOpenButton.addEventListener('click', placeOpenPopup);\r\n\r\n//\r\navatarOpenButton.addEventListener('click', avatarOpenPopup);\r\n\r\n// Валидация форм\r\nplaceFormValidation.enableValidation();\r\nprofileFormValidation.enableValidation();\r\navatarFormValidation.enableValidation();","export default class Api {\r\n  constructor ({address, token, groupId}) {\r\n    this._address = address;\r\n    this._token = token;\r\n    this._groupId = groupId;\r\n  }\r\n\r\n  _getResponseData(res) {\r\n    if (res.ok) {\r\n      return res.json();\r\n    } else {\r\n      return Promise.reject(new Error(`Ошибка: ${res.status}`));\r\n    }\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._address}/${this._groupId}/cards`, {\r\n      headers: {\r\n        authorization: this._token,\r\n      }\r\n    })\r\n    .then(res => {\r\n      return this._getResponseData(res);\r\n    })\r\n  }\r\n\r\n  addNewCard({name, link}) {\r\n    return fetch(`${this._address}/${this._groupId}/cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link\r\n\r\n      })\r\n    })\r\n    .then(res => {\r\n      return this._getResponseData(res);\r\n    })\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch (`${this._address}/${this._groupId}/cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    .then(res => {\r\n      return this._getResponseData(res);\r\n    })\r\n  }\r\n\r\n  getUserInformation() {\r\n    return fetch(`${this._address}/${this._groupId}/users/me`, {\r\n      headers: {\r\n        authorization: this._token,\r\n      }\r\n    })\r\n    .then(res => {\r\n        return this._getResponseData(res);\r\n    })\r\n  }\r\n\r\n  changeUserInformation(name, about) {\r\n    return fetch (`${this._address}/${this._groupId}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: about, \r\n      })\r\n    })\r\n    .then(res => {\r\n      return this._getResponseData(res);\r\n    })\r\n  }\r\n\r\n  changeUserAvatar(avatar) {\r\n    return fetch (`${this._address}/${this._groupId}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: avatar \r\n      })\r\n    })\r\n    .then(res => {\r\n      return this._getResponseData(res);\r\n    })\r\n  }\r\n\r\n  putLike(cardId) {\r\n    return fetch (`${this._address}/${this._groupId}/cards/likes/${cardId}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    .then(res => {\r\n      return this._getResponseData(res);\r\n    })\r\n  }\r\n\r\n  removeLike(cardId) {\r\n    return fetch (`${this._address}/${this._groupId}/cards/likes/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    })\r\n    .then(res => {\r\n      return this._getResponseData(res);\r\n    })\r\n  }\r\n\r\n\r\n}"],"sourceRoot":""}